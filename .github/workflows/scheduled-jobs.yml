# All jobs defined within single workflow file to allow control of job concurrency.
# Actions bind to specific action commits to reduce risk of action repos being compromised.defaults:
# It would be nice to define the commit hashes and version numbers as environment variables to
# reduce repetition, but actions can't be resolved dynamically.

name: Build and Deploy (Scheduled)

on:
  schedule:
    - cron: "30 10 * * *"
  workflow_dispatch:

concurrency:
  group: "build deploy"
  cancel-in-progress: true

jobs:
  build-and-test-linux:
    name: Build and test (Linux)
    permissions:
      contents: write
    uses: ./.github/workflows/build-and-test.yml
    with:
      platform: ubuntu-latest
